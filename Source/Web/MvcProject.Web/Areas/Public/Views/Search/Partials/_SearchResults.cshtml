@using MvcProject.Web.Areas.Public.ViewModels.Categories
@using MvcProject.Web.Areas.Public.ViewModels.Products
@using MvcProject.Web.Areas.Public.ViewModels.Search
@using MvcProject.Services.Logic.ServiceModels

@*@model ICollection<ProductOfCategoryViewModel>*@

@*@model SearchViewModel*@
@*@model CategorySearchViewModel*@

@model IEnumerable<ProductForCategorySearchViewModel>

@(Html.Kendo()
    .ListView<ProductForCategorySearchViewModel>()
    .Name("SearchResultListView")
    .TagName("ul")
    .Pageable()
    .ClientTemplateId("search-result-listView-template")
    .BindTo(Model)
    .DataSource(data => data
        .Model(model => model.Id(p => p.Id))
        //.Read(read => read
        //    .Action("ReadSearchResult", "Search", new { categoryId = Model.Id, query = Model.Query })
        //    .Data("readHandler")
        //)
        .PageSize(60)
    )
    //.Events(e => e
    //    .DataBinding("onListViewDataBinding")
    //    //.Change("onListViewChange")
    //    .DataBound("onListViewDataBound")
    //)
    .Deferred()
    )

<!-- ListView products template -->
<script type="text/kendo-tmpl" id="search-result-listView-template">
    @Html.Partial("_ListViewProductCellTemplate")
</script>