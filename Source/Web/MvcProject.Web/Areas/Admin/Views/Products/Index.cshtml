@using MvcProject.Web.Infrastructure.HtmlHelpers
@using MvcProject.Web.Areas.Admin.ViewModels.Products
@using MvcProject.Data.Models

@{
    ViewBag.Title = "Index";
}

@(Html.FullFeaturedGrid<ProductViewModel>(
    controllerName: "Products",
    routeValues: new { Area = "Admin" },
    modelIdExpression: m => m.Id,
    pageSize: 7,
    columns: c =>
    {
        c.Bound(m => m.Id);
        c.Bound(m => m.Title).Width("20%");
        c.Bound(m => m.ShortDescription).Width("20%");
        c.Bound(m => m.UnitPrice);
        c.Bound(m => m.DescriptionId)/*.HtmlAttributes(new { @class = "show-more" })*/;
        c.Bound(m => m.CategoryId);
        //c.Bound(m => m.IsInStock);
        c.Bound(m => m.QuantityInStock);
        c.Bound(m => m.MainImageId);
        c.Bound(m => m.Comments);
        //c.Bound(m => m.Images);
        //c.Bound(m => m.Votes);
        //c.Bound(m => m.JoinedTags);
        //c.Bound(m => m.IsInStock);
        c.Bound(m => m.Height);
        c.Bound(m => m.Length);
        c.Bound(m => m.Width);
        c.Bound(m => m.Weight);
        c.Command(cm => cm.Edit().UpdateText("Save"))/*.Lockable(false)*/;
        c.Command(cm => cm.Destroy().Text("Delete"));
    }
    , editMode: GridEditMode.PopUp
    )
    .Deferred())

@section styles{
    <style>
        /*horizontal Grid scrollbar should appear if the browser window is shrinked too much*/
        #grid table {
            min-width: 2500px;
            /*height: 1000px;*/
        }
        /*#grid .k-grid-content {
            min-height: 400px;
        }*/
    </style>

    <link href="@Url.Content("~/Content/Custom/custom-popup-editor.css")" rel="stylesheet" type="text/css" />
}

@section Scripts{
    @(Html.Kendo().DeferredScripts())

    <script>
        kendo.culture('@BundleConfig.UiCulture');

        $(function () {
            $("#grid").kendoValidator();
        });
    </script>
}