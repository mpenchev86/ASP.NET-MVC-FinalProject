@model MvcProject.Web.Areas.Admin.ViewModels.Users.UserViewModel

<div class="container-fluid">
    <div class="row">
        @Html.HiddenFor(m => m.Id)
    </div>

    <div class="row">
        <div class="editor-label">
            @Html.LabelFor(m => m.UserName)
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.UserName)
            @Html.ValidationMessageFor(model => model.UserName)
        </div>
    </div>

    <div class="row">
        <div class="editor-label">
            @Html.LabelFor(m => m.Roles)
        </div>
        <div class="editor-field">
            @*@Html.EditorFor(m => m.Roles)*@
            @(Html.Kendo().MultiSelect()
                .Name("rolesMultiSelect")
                .TagMode(TagMode.Multiple)
                .Placeholder("Select roles...")
                .DataTextField("Name")
                .DataValueField("Id")
                .Filter(FilterType.Contains)
                //.BindTo(Model.Roles)
                .DataSource(data =>
                {
                    data
                        .ServerFiltering(true)
                        .Read(read =>
                        {
                            read
                                .Action("GetRolesForUserViewModel", "Users", new { area = "Admin", id = "8bac2e78-710e-4a39-84ce-cd4e7dfb228d" })
                                ;
                        })
                        ;
                })
                .HtmlAttributes(/*ViewData["htmlAttributes"]*/new
                {
                    data_bind = "value: Roles",
                })
            )
            @Html.ValidationMessageFor(model => model.Roles)
        </div>
    </div>

    <div class="row">
        <div class="editor-label">
            @Html.LabelFor(m => m.IsDeleted, "Mark as deleted")
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.IsDeleted)
            @Html.ValidationMessageFor(model => model.IsDeleted)
        </div>
    </div>
</div>
